<!DOCTYPE html>
<html>
<head>
    <title>Jenn's Movie Database API</title>
    <meta charset="utf-8" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>

        h3 {
            margin-bottom: 30px;
            margin-top: 30px;
            text-align: center;
        }

        body {
            margin: auto;
            padding: 0;
            background-color: #FAFAFA;
        }

        .card{
            width:765px;
            margin: auto;
            margin-bottom: 60px;
        }

        .alert{
            width: 95%;
            margin: auto;
            font-size: 12px;
        }

        .btn{
            margin-top: -5px;
            margin-left: 5px;
        }

        img{
            width:200px;
            margin: 20px;
            border: 2px solid black;
            float: left;
            height: 300px;
        }

        p{
            float: left;
        }

        #display {
            text-align: center;
            margin-left: 135px;
        }

        #displaybuttons {
            text-align: center;
        }

        #displaybuttons .btn{
            margin-left: 40px;
            margin-top: 200px;
            margin-right:40px;
            margin-bottom: -150px;
            height: 80px;
            width: 150px;
        }

        #overview {
            text-align: center;
            margin-left: 100px;
        }

        #details {
            text-align: center;
            margin-top: 150px;
        }

        footer{
            margin-top: 100px;
        }


    </style>

</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Jenn's Movie Database API</a>
        <div class="navbar-nav">
            <a class="nav-item nav-link" href="application.html">Home <span class="sr-only">(current)</span></a>
            <a class="nav-item nav-link active" href="discover.html">Discover</a>
            <a class="nav-item nav-link " href="about.html">About</a>
        </div>
    </nav>
    <div class="container">
        <h3>Trending</h3>
        <div class="row">
            <div class="col-xl">
                <div class="card text-center">
                    <h5 class="card-header">Movies</h5>
                    <div class="card-body">
                        <p class="card-text">
                            <div id="popularmovies"></div>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xl">
                <div class="card text-center">
                    <h5 class="card-header">TV Shows</h5>
                    <div class="card-body">
                        <p class="card-text">
                            <div id="popularTV"></div>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <h3>Top Rated</h3>
        <div class="row">
            <div class="col-xl">
                <div class="card text-center">
                    <h5 class="card-header">Movies</h5>
                    <div class="card-body">
                        <p class="card-text">
                            <div id="topmovies"></div>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xl">
                <div class="card text-center">
                    <h5 class="card-header">TV Shows</h5>
                    <div class="card-body">
                        <p class="card-text">
                            <div id="topTV"></div>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <h3>Coming Soon</h3>
        <div class="row">
            <div class="col-xl">
                <div class="card text-center">
                    <h5 class="card-header">Movies</h5>
                    <div class="card-body">
                        <p class="card-text">
                            <div id="comingsoon"></div>
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- Footer -->
    <footer class="page-footer font-small blue pt-4">

        <div class="footer-copyright text-center py-3">
            © 2020 API Source:
            <a href="https://www.themoviedb.org/"> The Movie Database (TMDb)</a>
        </div>
        <!-- Copyright -->

    </footer>
    <!-- Footer -->


    <script>$(document).ready(function () {

    strURL = "https://api.themoviedb.org/3/trending/movie/day?api_key=fe2b5b11a4f739b76be85963eb9fd15d&language=en-US";

            $.ajax({
                type: "GET",
                url: strURL,
                dataType: "json",
                success: function (data) {

                    var i;

                    for (i = 0; i < 6; i++) {
                        var imageURL = "https://image.tmdb.org/t/p/w1280" + data.results[i].poster_path;
                        var image = document.createElement("IMG");
                        image.src = imageURL;

                        $("#popularmovies").append(image);

                    }

                    strURL = "https://api.themoviedb.org/3/trending/tv/day?api_key=fe2b5b11a4f739b76be85963eb9fd15d&language=en-US";

                        $.ajax({
                            type: "GET",
                            url: strURL,
                            dataType: "json",
                            success: function (data) {

                                var i;

                                for (i = 0; i < 6; i++) {
                                    var imageURL = "https://image.tmdb.org/t/p/w1280" + data.results[i].poster_path;
                                    var image = document.createElement("IMG");
                                    image.src = imageURL;

                                    $("#popularTV").append(image);

                                }

                                strURL = "https://api.themoviedb.org/3/movie/top_rated?api_key=fe2b5b11a4f739b76be85963eb9fd15d&language=en-US";

                                $.ajax({
                                    type: "GET",
                                    url: strURL,
                                    dataType: "json",
                                    success: function (data) {

                                        var i;

                                        for (i = 0; i < 6; i++) {
                                            var imageURL = "https://image.tmdb.org/t/p/w1280" + data.results[i].poster_path;
                                            var image = document.createElement("IMG");
                                            image.src = imageURL;

                                            $("#topmovies").append(image);

                                        }

                                        strURL = "https://api.themoviedb.org/3/tv/top_rated?api_key=fe2b5b11a4f739b76be85963eb9fd15d&language=en-US";

                                        $.ajax({
                                            type: "GET",
                                            url: strURL,
                                            dataType: "json",
                                            success: function (data) {

                                                var i;

                                                for (i = 0; i < 6; i++) {
                                                    var imageURL = "https://image.tmdb.org/t/p/w1280" + data.results[i].poster_path;
                                                    var image = document.createElement("IMG");
                                                    image.src = imageURL;

                                                    $("#topTV").append(image);
                                                }
                                                    strURL = "https://api.themoviedb.org/3/movie/upcoming?api_key=fe2b5b11a4f739b76be85963eb9fd15d&language=en-US";

                                                    $.ajax({
                                                        type: "GET",
                                                        url: strURL,
                                                        dataType: "json",
                                                        success: function (data) {

                                                            var i;

                                                            for (i = 0; i < 6; i++) {
                                                                var imageURL = "https://image.tmdb.org/t/p/w1280" + data.results[i].poster_path;
                                                                var image = document.createElement("IMG");
                                                                image.src = imageURL;

                                                                $("#comingsoon").append(image);

                                                            }

                                                        },
                                                        error: function (req, status, error) {
                                                            alert("error");
                                                        }
                                                    });

                                                

                                            },
                                            error: function (req, status, error) {
                                                alert("error");
                                            }
                                        });

                                    },
                                    error: function (req, status, error) {
                                        alert("error");
                                    }
                                });

                            },
                            error: function (req, status, error) {
                                alert("error");
                            }
                        });
                        
                    

                },
                error: function (req, status, error) {
                    alert("error");
                }
            });

        });

            </script>

</body>
</html>